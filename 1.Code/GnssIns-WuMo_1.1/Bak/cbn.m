function c=cbn(q)
%四元数转矩阵
q0=q(1);
q1=q(2);
q2=q(3);
q3=q(4);

q00=q0*q0;
q11=q1*q1;
q22=q2*q2;
q33=q3*q3;

c=zeros(3,3);
c(1,1)=q00+q11-q22-q33;
c(1,2)=2*(q1*q2-q0*q3);
c(1,3)=2*(q1*q3+q0*q2);
c(2,1)=2*(q1*q2+q0*q3);
c(2,2)=q00-q11+q22-q33;
c(2,3)=2*(q2*q3-q0*q1);
c(3,1)=2*(q1*q3-q0*q2);
c(3,2)=2*(q2*q3+q0*q1);
c(3,3)=q00-q11-q22+q33;




